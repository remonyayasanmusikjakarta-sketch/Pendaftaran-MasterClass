<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MasterClass Registration - Mr. Guiseppe Fausto Mudugno</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <style>
        :root {
            --primary-color: #8B4513;
            --secondary-color: #D2B48C;
            --accent-color: #FFD700;
            --text-color: #333;
            --light-bg: #F5F5DC;
            --dark-bg: #222;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-bg);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 24px;
            font-weight: 700;
            color: var(--accent-color);
        }
        
        /* Language Selector */
        .language-selector {
            display: flex;
            gap: 10px;
        }
        
        .language-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .language-btn.active {
            background: var(--accent-color);
            color: var(--primary-color);
        }
        
        /* Hero Section */
        .hero {
            padding: 40px 0;
            text-align: center;
            position: relative;
        }
        
        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: 36px;
            margin-bottom: 20px;
            color: var(--primary-color);
        }
        
        .professor-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .professor-details h2 {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .professor-details p {
            font-size: 18px;
            color: #666;
        }
        
        .event-details {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .event-details h3 {
            font-family: 'Playfair Display', serif;
            font-size: 22px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .event-details p {
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        /* Registration Form */
        .registration-form {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 16px;
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .radio-item, .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .radio-item input, .checkbox-item input {
            width: 18px;
            height: 18px;
        }
        
        .fee-display {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            font-weight: 500;
            display: none;
            border-left: 4px solid var(--primary-color);
        }
        
        .fee-display.show {
            display: block;
        }
        
        .payment-info {
            background: var(--light-bg);
            padding: 25px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }
        
        .payment-info.show {
            display: block;
        }
        
        .payment-details {
            display: flex;
            gap: 30px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .qr-code {
            width: 180px;
            height: 180px;
            background: white;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .account-info {
            flex: 1;
        }
        
        .account-info p {
            margin-bottom: 12px;
            font-size: 16px;
        }
        
        .account-info strong {
            color: var(--primary-color);
        }
        
        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            font-size: 16px;
        }
        
        .btn:hover {
            background: #6B3410;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-submit {
            margin-top: 20px;
            width: 100%;
            padding: 15px;
            font-size: 18px;
        }
        
        /* Music Animation */
        .music-animation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
        }
        
        .music-note {
            position: absolute;
            font-size: 30px;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Footer */
        footer {
            background: var(--dark-bg);
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .footer-section {
            flex: 1;
            min-width: 250px;
        }
        
        .footer-section h3 {
            font-family: 'Playfair Display', serif;
            margin-bottom: 20px;
            color: var(--accent-color);
            font-size: 20px;
        }
        
        .footer-section p, .footer-section a {
            color: #ccc;
            text-decoration: none;
            margin-bottom: 10px;
            display: block;
            font-size: 16px;
        }
        
        .footer-section a:hover {
            color: var(--accent-color);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            transition: all 0.3s ease;
        }
        
        .social-links a:hover {
            background: var(--accent-color);
            color: var(--primary-color);
        }
        
        .copyright {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            color: #999;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1000;
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            border-left: 5px solid #4CAF50;
        }
        
        .notification.error {
            border-left: 5px solid #F44336;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 18px;
        }
        
        .notification-message {
            font-size: 16px;
        }
        
        /* Loading Spinner */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }
        
        .loading.show {
            display: flex;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 28px;
            }
            
            .payment-details {
                flex-direction: column;
                gap: 20px;
            }
            
            .footer-content {
                flex-direction: column;
            }
            
            .notification {
                right: 10px;
                left: 10px;
                max-width: none;
            }
        }
    </style>
</head>
<body>
    <!-- Music Animation Background -->
    <div class="music-animation">
        <div class="music-note" style="left: 10%; animation-delay: 0s;">♪</div>
        <div class="music-note" style="left: 20%; animation-delay: 2s;">♫</div>
        <div class="music-note" style="left: 30%; animation-delay: 4s;">♬</div>
        <div class="music-note" style="left: 40%; animation-delay: 6s;">♩</div>
        <div class="music-note" style="left: 50%; animation-delay: 8s;">♪</div>
        <div class="music-note" style="left: 60%; animation-delay: 10s;">♫</div>
        <div class="music-note" style="left: 70%; animation-delay: 12s;">♬</div>
        <div class="music-note" style="left: 80%; animation-delay: 14s;">♩</div>
        <div class="music-note" style="left: 90%; animation-delay: 16s;">♪</div>
    </div>
    
    <!-- Loading Spinner -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>
    
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Yayasan Musik Jakarta</div>
                <div class="language-selector">
                    <button class="language-btn active" data-lang="id">Indonesia</button>
                    <button class="language-btn" data-lang="en">English</button>
                    <button class="language-btn" data-lang="zh">中文</button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 data-translate="title">MasterClass Registration</h1>
            
            <div class="professor-info">
                <div class="professor-details">
                    <h2>Mr. Guiseppe Fausto Mudugno</h2>
                    <p data-translate="professor-title">Director, Conservatorio "Vechi-Tonelli", Modena, Italy</p>
                </div>
            </div>
            
            <div class="event-details">
                <h3 data-translate="event-details">Event Details</h3>
                <p><strong data-translate="organized-by">Organized by:</strong> Yayasan Musik Jakarta</p>
                <p><strong data-translate="venue">Venue:</strong> YMJ BSD Auditorium Jl. Letnan Soetopo, BSD</p>
                <p><strong data-translate="dates">Dates:</strong> 23-24 June 2023</p>
            </div>
        </div>
    </section>
    
    <!-- Registration Form -->
    <section class="registration-form">
        <div class="container">
            <h2 data-translate="form-title">Registration Form</h2>
            <form id="registrationForm">
                <div class="form-group">
                    <label for="name" data-translate="name-label">Full Name *</label>
                    <input type="text" id="name" name="name" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="email" data-translate="email-label">Email *</label>
                    <input type="email" id="email" name="email" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="phone" data-translate="phone-label">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="school" data-translate="school-label">School/Institution *</label>
                    <input type="text" id="school" name="school" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="education-level" data-translate="education-label">Education Level *</label>
                    <select id="education-level" name="education-level" class="form-control" required>
                        <option value="" disabled selected data-translate="select-education">Select Education Level</option>
                        <option value="elementary" data-translate="elementary">Elementary School</option>
                        <option value="junior-high" data-translate="junior-high">Junior High School</option>
                        <option value="senior-high" data-translate="senior-high">Senior High School</option>
                        <option value="university" data-translate="university">University</option>
                        <option value="professional" data-translate="professional">Professional</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label data-translate="ymj-member-label">Are you a YMJ member? *</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="ymj-yes" name="ymj-member" value="yes" required>
                            <label for="ymj-yes" data-translate="yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="ymj-no" name="ymj-member" value="no" required>
                            <label for="ymj-no" data-translate="no">No</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label data-translate="participation-label">Participation Type *</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="passive" name="participation-type" value="passive" required>
                            <label for="passive" data-translate="passive">Passive (Observation)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="active" name="participation-type" value="active" required>
                            <label for="active" data-translate="active">Active</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="role-group" style="display: none;">
                    <label data-translate="role-label">Role *</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="teacher" name="role" value="teacher">
                            <label for="teacher" data-translate="teacher">Teacher</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="student" name="role" value="student">
                            <label for="student" data-translate="student">Student</label>
                        </div>
                    </div>
                </div>
                
                <div class="fee-display" id="fee-display">
                    <p data-translate="fee-info">Registration Fee:</p>
                    <p id="fee-amount" style="font-size: 24px; font-weight: 600; color: var(--primary-color);"></p>
                </div>
                
                <div class="payment-info" id="payment-info">
                    <h3 data-translate="payment-info-title">Payment Information</h3>
                    <div class="payment-details">
                        <div class="qr-code">
                            <i class="fas fa-qrcode" style="font-size: 120px; color: #ddd;"></i>
                        </div>
                        <div class="account-info">
                            <p><strong data-translate="bank-name">Bank:</strong> BANK BCA</p>
                            <p><strong data-translate="account-number">Account Number:</strong> 5880182244</p>
                            <p><strong data-translate="account-name">Account Name:</strong> Yay Musik Jakarta</p>
                            <p data-translate="payment-instruction">Please transfer the registration fee to the account above and upload the payment proof below.</p>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="date-group" style="display: none;">
                    <label data-translate="date-label">Select MasterClass Date *</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="date-23" name="date" value="23">
                            <label for="date-23">23 June 2023</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="date-24" name="date" value="24">
                            <label for="date-24">24 June 2023</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="payment-proof-group" style="display: none;">
                    <label for="payment-proof" data-translate="payment-proof-label">Upload Payment Proof *</label>
                    <input type="file" id="payment-proof" name="payment-proof" class="form-control" accept="image/*">
                </div>
                
                <button type="submit" class="btn btn-submit" data-translate="submit-btn">Submit Registration</button>
            </form>
        </div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 data-translate="contact-us">Contact Us</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Jl. Letnan Soetopo, BSD</p>
                    <p><i class="fas fa-phone"></i> +62 811-9892-413</p>
                    <p><i class="fas fa-envelope"></i> info@ymj.org</p>
                </div>
                
                <div class="footer-section">
                    <h3 data-translate="quick-links">Quick Links</h3>
                    <a href="#" data-translate="about-us">About Us</a>
                    <a href="#" data-translate="programs">Programs</a>
                    <a href="#" data-translate="events">Events</a>
                    <a href="#" data-translate="gallery">Gallery</a>
                </div>
                
                <div class="footer-section">
                    <h3 data-translate="follow-us">Follow Us</h3>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Yayasan Musik Jakarta. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-title" id="notification-title"></div>
        <div class="notification-message" id="notification-message"></div>
    </div>
    
    <script>
        // Translation data
        const translations = {
            id: {
                "title": "Pendaftaran MasterClass",
                "professor-title": "Direktur, Conservatorio \"Vechi-Tonelli\", Modena, Italia",
                "event-details": "Detail Acara",
                "organized-by": "Diselenggarakan oleh:",
                "venue": "Tempat:",
                "dates": "Tanggal:",
                "form-title": "Formulir Pendaftaran",
                "name-label": "Nama Lengkap",
                "email-label": "Email",
                "phone-label": "Nomor HP",
                "school-label": "Asal Sekolah/Institusi",
                "education-label": "Tingkat Pendidikan",
                "select-education": "Pilih Tingkat Pendidikan",
                "elementary": "SD",
                "junior-high": "SMP",
                "senior-high": "SMA",
                "university": "Universitas",
                "professional": "Profesional",
                "ymj-member-label": "Apakah Anda anggota YMJ?",
                "yes": "Ya",
                "no": "Tidak",
                "participation-label": "Jenis Partisipasi",
                "passive": "Pasif (Observasi)",
                "active": "Aktif",
                "role-label": "Peran",
                "teacher": "Guru",
                "student": "Siswa",
                "fee-info": "Biaya Pendaftaran:",
                "payment-info-title": "Informasi Pembayaran",
                "bank-name": "Bank:",
                "account-name": "Nama Akun:",
                "account-number": "Nomor Akun:",
                "payment-instruction": "Silakan transfer biaya pendaftaran ke akun di atas dan unggah bukti pembayaran di bawah ini.",
                "date-label": "Pilih Tanggal MasterClass",
                "payment-proof-label": "Unggah Bukti Pembayaran",
                "submit-btn": "Kirim Pendaftaran",
                "contact-us": "Hubungi Kami",
                "quick-links": "Tautan Cepat",
                "follow-us": "Ikuti Kami",
                "about-us": "Tentang Kami",
                "programs": "Program",
                "events": "Acara",
                "gallery": "Galeri",
                "free": "Gratis",
                "currency": "IDR",
                "success-title": "Pendaftaran Berhasil!",
                "success-message": "Terima kasih telah mendaftar. Anda akan diarahkan ke WhatsApp.",
                "error-title": "Terjadi Kesalahan",
                "error-message": "Silakan coba lagi atau hubungi kami.",
                "validation-date": "Silakan pilih setidaknya satu tanggal untuk MasterClass",
                "validation-payment": "Silakan unggah bukti pembayaran"
            },
            en: {
                "title": "MasterClass Registration",
                "professor-title": "Director, Conservatorio \"Vechi-Tonelli\", Modena, Italy",
                "event-details": "Event Details",
                "organized-by": "Organized by:",
                "venue": "Venue:",
                "dates": "Dates:",
                "form-title": "Registration Form",
                "name-label": "Full Name",
                "email-label": "Email",
                "phone-label": "Phone Number",
                "school-label": "School/Institution",
                "education-label": "Education Level",
                "select-education": "Select Education Level",
                "elementary": "Elementary School",
                "junior-high": "Junior High School",
                "senior-high": "Senior High School",
                "university": "University",
                "professional": "Professional",
                "ymj-member-label": "Are you a YMJ member?",
                "yes": "Yes",
                "no": "No",
                "participation-label": "Participation Type",
                "passive": "Passive (Observation)",
                "active": "Active",
                "role-label": "Role",
                "teacher": "Teacher",
                "student": "Student",
                "fee-info": "Registration Fee:",
                "payment-info-title": "Payment Information",
                "bank-name": "Bank:",
                "account-name": "Account Name:",
                "account-number": "Account Number:",
                "payment-instruction": "Please transfer the registration fee to the account above and upload the payment proof below.",
                "date-label": "Select MasterClass Date",
                "payment-proof-label": "Upload Payment Proof",
                "submit-btn": "Submit Registration",
                "contact-us": "Contact Us",
                "quick-links": "Quick Links",
                "follow-us": "Follow Us",
                "about-us": "About Us",
                "programs": "Programs",
                "events": "Events",
                "gallery": "Gallery",
                "free": "Free",
                "currency": "IDR",
                "success-title": "Registration Successful!",
                "success-message": "Thank you for registering. You will be redirected to WhatsApp.",
                "error-title": "An Error Occurred",
                "error-message": "Please try again or contact us.",
                "validation-date": "Please select at least one date for the MasterClass",
                "validation-payment": "Please upload payment proof"
            },
            zh: {
                "title": "大师课注册",
                "professor-title": "意大利摩德纳\"Vechi-Tonelli\"音乐学院院长",
                "event-details": "活动详情",
                "organized-by": "主办方:",
                "venue": "地点:",
                "dates": "日期:",
                "form-title": "注册表格",
                "name-label": "全名",
                "email-label": "电子邮件",
                "phone-label": "电话号码",
                "school-label": "学校/机构",
                "education-label": "教育水平",
                "select-education": "选择教育水平",
                "elementary": "小学",
                "junior-high": "初中",
                "senior-high": "高中",
                "university": "大学",
                "professional": "专业",
                "ymj-member-label": "您是YMJ会员吗?",
                "yes": "是",
                "no": "否",
                "participation-label": "参与类型",
                "passive": "被动（观察）",
                "active": "主动",
                "role-label": "角色",
                "teacher": "教师",
                "student": "学生",
                "fee-info": "注册费:",
                "payment-info-title": "付款信息",
                "bank-name": "银行:",
                "account-name": "账户名称:",
                "account-number": "账户号码:",
                "payment-instruction": "请将注册费转账到上述账户，并在下方上传付款证明。",
                "date-label": "选择大师课日期",
                "payment-proof-label": "上传付款证明",
                "submit-btn": "提交注册",
                "contact-us": "联系我们",
                "quick-links": "快速链接",
                "follow-us": "关注我们",
                "about-us": "关于我们",
                "programs": "项目",
                "events": "活动",
                "gallery": "画廊",
                "free": "免费",
                "currency": "印尼盾",
                "success-title": "注册成功！",
                "success-message": "感谢您的注册。您将被重定向到WhatsApp。",
                "error-title": "发生错误",
                "error-message": "请重试或联系我们。",
                "validation-date": "请为大师课选择至少一个日期",
                "validation-payment": "请上传付款证明"
            }
        };
        
        // Current language
        let currentLang = 'id';
        
        // Language selector
        $('.language-btn').on('click', function() {
            $('.language-btn').removeClass('active');
            $(this).addClass('active');
            currentLang = $(this).data('lang');
            translatePage();
        });
        
        // Translate page
        function translatePage() {
            $('[data-translate]').each(function() {
                const key = $(this).data('translate');
                $(this).text(translations[currentLang][key]);
            });
            
            // Update currency symbol
            $('#fee-amount').text(getFeeAmount());
        }
        
        // Fee calculation
        function getFeeAmount() {
            const ymjMember = $('input[name="ymj-member"]:checked').val();
            const participationType = $('input[name="participation-type"]:checked').val();
            const role = $('input[name="role"]:checked').val();
            const currency = translations[currentLang]["currency"];
            
            if (ymjMember === undefined || participationType === undefined) {
                return '';
            }
            
            if (participationType === 'passive') {
                if (ymjMember === 'yes') {
                    return translations[currentLang]["free"];
                } else {
                    return `${currency} 50,000`;
                }
            } else {
                if (ymjMember === 'yes') {
                    if (role === 'teacher') {
                        return `${currency} 100,000`;
                    } else if (role === 'student') {
                        return `${currency} 500,000`;
                    }
                } else {
                    return `${currency} 650,000`;
                }
            }
            
            return '';
        }
        
        // Form interactions
        $('input[name="ymj-member"], input[name="participation-type"], input[name="role"]').on('change', function() {
            const ymjMember = $('input[name="ymj-member"]:checked').val();
            const participationType = $('input[name="participation-type"]:checked').val();
            
            // Show/hide role selection
            if (participationType === 'active') {
                $('#role-group').show();
                // Make role required if active participation
                $('input[name="role"]').attr('required', 'required');
            } else {
                $('#role-group').hide();
                $('input[name="role"]').removeAttr('required');
            }
            
            // Calculate and display fee
            const feeAmount = getFeeAmount();
            if (feeAmount) {
                $('#fee-amount').text(feeAmount);
                $('#fee-display').addClass('show');
                
                // Show payment info if fee is not free
                if (feeAmount !== translations[currentLang]["free"]) {
                    $('#payment-info').addClass('show');
                    $('#date-group').show();
                    $('#payment-proof-group').show();
                    $('input[name="date"]').attr('required', 'required');
                    $('#payment-proof').attr('required', 'required');
                } else {
                    $('#payment-info').removeClass('show');
                    $('#date-group').show();
                    $('#payment-proof-group').hide();
                    $('input[name="date"]').attr('required', 'required');
                    $('#payment-proof').removeAttr('required');
                }
            } else {
                $('#fee-display').removeClass('show');
                $('#payment-info').removeClass('show');
                $('#date-group').hide();
                $('#payment-proof-group').hide();
                $('input[name="date"]').removeAttr('required');
                $('#payment-proof').removeAttr('required');
            }
        });
        
        // Show notification
        function showNotification(title, message, type) {
            $('#notification-title').text(title);
            $('#notification-message').text(message);
            $('#notification').removeClass('success error').addClass(type);
            $('#notification').addClass('show');
            
            setTimeout(function() {
                $('#notification').removeClass('show');
            }, 5000);
        }
        
        // Form submission
        $('#registrationForm').on('submit', function(e) {
            e.preventDefault();
            
            // Validate dates
            const datesSelected = $('input[name="date"]:checked').length;
            if ($('#date-group').is(':visible') && datesSelected === 0) {
                showNotification(
                    translations[currentLang]["error-title"],
                    translations[currentLang]["validation-date"],
                    'error'
                );
                return;
            }
            
            // Validate payment proof if required
            const feeAmount = getFeeAmount();
            if ($('#payment-proof-group').is(':visible') && feeAmount !== translations[currentLang]["free"]) {
                const paymentProof = $('#payment-proof')[0].files.length;
                if (paymentProof === 0) {
                    showNotification(
                        translations[currentLang]["error-title"],
                        translations[currentLang]["validation-payment"],
                        'error'
                    );
                    return;
                }
            }
            
            // Show loading
            $('#loading').addClass('show');
            
            // Get form data
            const formData = new FormData(this);
            const formValues = {};
            
            formData.forEach((value, key) => {
                if (formValues[key]) {
                    if (!Array.isArray(formValues[key])) {
                        formValues[key] = [formValues[key]];
                    }
                    formValues[key].push(value);
                } else {
                    formValues[key] = value;
                }
            });
            
            // Add fee amount to form data
            formValues['fee'] = getFeeAmount();
            
            // Handle file upload
            const fileInput = $('#payment-proof')[0];
            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    formValues['payment-proof-data'] = e.target.result;
                    formValues['payment-proof-name'] = file.name;
                    
                    // Submit to Google Sheets
                    submitToGoogleSheets(formValues);
                };
                
                reader.readAsDataURL(file);
            } else {
                // Submit to Google Sheets without payment proof
                submitToGoogleSheets(formValues);
            }
        });
        
        // Submit to Google Sheets
        function submitToGoogleSheets(data) {
            // Ganti dengan URL Google Apps Script Anda
            const scriptURL = 'https://script.google.com/macros/s/AKfycbwduE31vk3Tf0SAIAD01f6shGuMtYmMt5PT7WzJQXO_l0U-7Hd6F_u1vPcPJHhqSfd3/exec';
            
            // Create a simple form submission
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = scriptURL;
            
            // Add all data to form
            Object.keys(data).forEach(key => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = key;
                input.value = Array.isArray(data[key]) ? data[key].join(',') : data[key];
                form.appendChild(input);
            });
            
            // Submit form
            document.body.appendChild(form);
            form.submit();
            
            // Simulate success for demo (remove this when using real script URL)
            setTimeout(function() {
                $('#loading').removeClass('show');
                showNotification(
                    translations[currentLang]["success-title"],
                    translations[currentLang]["success-message"],
                    'success'
                );
                
                // Redirect to WhatsApp after 2 seconds
                setTimeout(function() {
                    redirectToWhatsApp(data);
                }, 2000);
            }, 1500);
        }
        
        // Redirect to WhatsApp
        function redirectToWhatsApp(data) {
            const phoneNumber = '6285924703474'; // Your WhatsApp number with country code
            
            // Format message
            let message = `*MasterClass Registration*\n\n`;
            message += `*Name:* ${data.name}\n`;
            message += `*Email:* ${data.email}\n`;
            message += `*Phone:* ${data.phone}\n`;
            message += `*School:* ${data.school}\n`;
            message += `*Education Level:* ${data['education-level']}\n`;
            message += `*YMJ Member:* ${data['ymj-member']}\n`;
            message += `*Participation Type:* ${data['participation-type']}\n`;
            
            if (data.role) {
                message += `*Role:* ${data.role}\n`;
            }
            
            message += `*Fee:* ${data.fee}\n`;
            
            if (data.date) {
                if (Array.isArray(data.date)) {
                    message += `*Dates:* ${data.date.join(', ')} June 2023\n`;
                } else {
                    message += `*Date:* ${data.date} June 2023\n`;
                }
            }
            
            // Add payment proof info if uploaded
            if (data['payment-proof-name']) {
                message += `*Payment Proof:* ${data['payment-proof-name']}\n`;
            }
            
            // Create WhatsApp URL
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            
            // Redirect to WhatsApp
            window.open(whatsappURL, '_blank');
        }
        
        // Initialize page
        $(document).ready(function() {
            translatePage();
        });
    </script>
</body>
</html>

