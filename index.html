<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran MasterClass - Mr. Guiseppe Fausto Mudugno</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #8B4513;
            --secondary-color: #D2B48C;
            --accent-color: #CD853F;
            --text-color: #333;
            --light-bg: #F5F5DC;
            --white: #FFFFFF;
            --success-color: #28a745;
            --error-color: #dc3545;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Raleway', sans-serif;
            color: var(--text-color);
            background-color: var(--light-bg);
            background-image: url('https://picsum.photos/seed/musicbg/1600/900.jpg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            position: relative;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(245, 245, 220, 0.85);
            z-index: -1;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--white);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--accent-color);
            margin-bottom: 5px;
        }
        
        .organizer {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 15px;
        }
        
        .venue {
            font-size: 0.9rem;
            color: var(--text-color);
            margin-bottom: 10px;
        }
        
        .contact-info {
            font-size: 0.9rem;
            color: var(--primary-color);
            margin-top: 10px;
        }
        
        .music-icons {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            opacity: 0.1;
        }
        
        .violin {
            position: absolute;
            top: 10px;
            left: 20px;
            font-size: 3rem;
            color: var(--primary-color);
            animation: float 5s ease-in-out infinite;
        }
        
        .piano {
            position: absolute;
            bottom: 10px;
            right: 20px;
            font-size: 3rem;
            color: var(--primary-color);
            animation: float 7s ease-in-out infinite;
        }
        
        .music-note {
            position: absolute;
            font-size: 2rem;
            color: var(--accent-color);
            animation: float 4s ease-in-out infinite;
        }
        
        .note1 {
            top: 30%;
            left: 10%;
            animation-delay: 0.5s;
        }
        
        .note2 {
            top: 20%;
            right: 15%;
            animation-delay: 1s;
        }
        
        .note3 {
            bottom: 30%;
            left: 20%;
            animation-delay: 1.5s;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }
        
        .form-container {
            background-color: var(--white);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary-color);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="tel"]:focus,
        select:focus {
            border-color: var(--accent-color);
            outline: none;
        }
        
        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .radio-option:hover {
            background-color: var(--light-bg);
        }
        
        .radio-option input {
            margin-right: 8px;
        }
        
        .radio-option.selected {
            background-color: var(--secondary-color);
            border-color: var(--accent-color);
        }
        
        .fee-display {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--light-bg);
            border-radius: 5px;
            border-left: 4px solid var(--accent-color);
            display: none;
        }
        
        .fee-display.active {
            display: block;
        }
        
        .fee-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .fee-amount {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .bank-info {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--light-bg);
            border-radius: 5px;
            border-left: 4px solid var(--primary-color);
        }
        
        .bank-title {
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .bank-details {
            font-family: monospace;
            font-size: 1rem;
            margin-bottom: 10px;
        }
        
        .copy-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background-color 0.3s;
        }
        
        .copy-btn:hover {
            background-color: var(--primary-color);
        }
        
        .file-upload {
            margin-top: 10px;
        }
        
        .file-label {
            display: inline-block;
            padding: 10px 15px;
            background-color: var(--secondary-color);
            color: var(--primary-color);
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .file-label:hover {
            background-color: var(--accent-color);
            color: white;
        }
        
        input[type="file"] {
            display: none;
        }
        
        .file-name {
            margin-left: 10px;
            font-size: 0.9rem;
            color: var(--text-color);
        }
        
        .submit-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: block;
            width: 100%;
            margin-top: 20px;
        }
        
        .submit-btn:hover {
            background-color: var(--accent-color);
        }
        
        .submit-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 5px;
            color: white;
            font-weight: 500;
            z-index: 1000;
            transform: translateX(120%);
            transition: transform 0.3s ease-out;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background-color: var(--success-color);
        }
        
        .notification.error {
            background-color: var(--error-color);
        }
        
        .loading {
            display: none;
            text-align: center;
            margin-top: 20px;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-color);
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .radio-group {
                flex-direction: column;
            }
            
            .radio-option {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="music-icons">
                <div class="violin">ðŸŽ»</div>
                <div class="piano">ðŸŽ¹</div>
                <div class="music-note note1">â™ª</div>
                <div class="music-note note2">â™«</div>
                <div class="music-note note3">â™¬</div>
            </div>
            <div class="header-content">
                <h1>Pendaftaran MasterClass</h1>
                <div class="subtitle">Dengan Mr. Guiseppe Fausto Mudugno</div>
                <div class="subtitle">Director, Conservatorio "Vechi-Tonelli", Modena, Italy</div>
                <div class="organizer">Organized by: Yayasan Musik Jakarta</div>
                <div class="venue">Venue: YMJ BSD Auditorium Jl. Letnan Soetopo, BSD</div>
                <div class="contact-info">
                    <i class="fas fa-phone"></i> Hubungi kami: +62 811-9892-413
                </div>
            </div>
        </header>
        
        <main>
            <div class="form-container">
                <h2 class="section-title">Formulir Pendaftaran</h2>
                <form id="registrationForm">
                    <div class="form-group">
                        <label for="name">Nama Lengkap</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">No. HP</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="school">Asal Sekolah/Institusi</label>
                        <input type="text" id="school" name="school" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="schoolLevel">Tingkat Sekolah</label>
                        <select id="schoolLevel" name="schoolLevel" required>
                            <option value="">-- Pilih Tingkat --</option>
                            <option value="SD">SD</option>
                            <option value="SMP">SMP</option>
                            <option value="SMA">SMA</option>
                            <option value="Universitas">Universitas</option>
                            <option value="Profesional">Profesional</option>
                            <option value="Lainnya">Lainnya</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Apakah Anda anggota YMJ?</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="ymjYes" name="isYmjMember" value="Yes" required>
                                <label for="ymjYes">Ya, anggota YMJ</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="ymjNo" name="isYmjMember" value="No" required>
                                <label for="ymjNo">Bukan anggota YMJ</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Kategori Partisipasi</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="passiveYmj" name="participation" value="passive_ymj" required>
                                <label for="passiveYmj">Passive (Observation) - YMJ</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="passiveNonYmj" name="participation" value="passive_non_ymj" required>
                                <label for="passiveNonYmj">Passive (Observation) - Non-YMJ</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="activeTeacherYmj" name="participation" value="active_teacher_ymj" required>
                                <label for="activeTeacherYmj">Active - YMJ Teacher</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="activeStudentYmj" name="participation" value="active_student_ymj" required>
                                <label for="activeStudentYmj">Active - YMJ Student</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="activeNonYmj" name="participation" value="active_non_ymj" required>
                                <label for="activeNonYmj">Active - Non-YMJ</label>
                            </div>
                        </div>
                        
                        <div id="feeDisplay" class="fee-display">
                            <div class="fee-title">Biaya Pendaftaran:</div>
                            <div id="feeAmount" class="fee-amount"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="reservationDate">Pilih Tanggal MasterClass</label>
                        <select id="reservationDate" name="reservationDate" required>
                            <option value="">-- Pilih Tanggal --</option>
                            <option value="23 Februari 2026">23 Februari 2026</option>
                            <option value="24 Februari 2026">24 Februari 2026</option>
                        </select>
                    </div>
                    
                    <div class="bank-info">
                        <div class="bank-title">Informasi Pembayaran</div>
                        <div class="bank-details">
                            BANK BCA<br>
                            No Rek: 5880182244<br>
                            a/n: Yay Musik Jakarta
                        </div>
                        <button type="button" class="copy-btn" id="copyBankInfo">Salin No. Rekening</button>
                    </div>
                    
                    <div class="form-group">
                        <label for="paymentProof">Bukti Pembayaran</label>
                        <div class="file-upload">
                            <label for="paymentProof" class="file-label">Pilih File</label>
                            <input type="file" id="paymentProof" name="paymentProof" accept="image/*" required>
                            <span id="fileName" class="file-name">Tidak ada file yang dipilih</span>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submitBtn">Kirim Pendaftaran</button>
                    
                    <div id="loading" class="loading">
                        <div class="spinner"></div>
                        <p>Mengirim data...</p>
                    </div>
                </form>
            </div>
        </main>
        
        <footer>
            <p>&copy; 2026 Yayasan Musik Jakarta. All rights reserved.</p>
        </footer>
    </div>
    
    <div id="notification" class="notification"></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Radio option selection
            const radioOptions = document.querySelectorAll('.radio-option');
            radioOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                    
                    // Remove selected class from all options in the same group
                    const groupName = radio.name;
                    document.querySelectorAll(`input[name="${groupName}"]`).forEach(r => {
                        r.closest('.radio-option').classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Update fee display if participation category is selected
                    if (groupName === 'participation') {
                        updateFeeDisplay(radio.value);
                    }
                });
            });
            
            // File upload display
            const fileInput = document.getElementById('paymentProof');
            const fileName = document.getElementById('fileName');
            
            fileInput.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    fileName.textContent = this.files[0].name;
                } else {
                    fileName.textContent = 'Tidak ada file yang dipilih';
                }
            });
            
            // Copy bank info
            const copyBtn = document.getElementById('copyBankInfo');
            copyBtn.addEventListener('click', function() {
                const bankInfo = 'BANK BCA No Rek: 5880182244 a/n: Yay Musik Jakarta';
                navigator.clipboard.writeText(bankInfo).then(() => {
                    showNotification('No. rekening berhasil disalin!', 'success');
                }).catch(err => {
                    showNotification('Gagal menyalin no. rekening', 'error');
                });
            });
            
            // Form submission
            const form = document.getElementById('registrationForm');
            const loading = document.getElementById('loading');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Show loading
                loading.classList.add('active');
                
                // Get form data
                const formData = new FormData(form);
                const participation = formData.get('participation');
                const isYmjMember = formData.get('isYmjMember');
                
                // Validate YMJ membership consistency
                if ((participation.includes('ymj') && isYmjMember === 'No') || 
                    (!participation.includes('ymj') && isYmjMember === 'Yes')) {
                    loading.classList.remove('active');
                    showNotification('Terdapat ketidaksesuaian antara status keanggotaan YMJ dan kategori partisipasi', 'error');
                    return;
                }
                
                // Convert file to base64
                const fileInput = document.getElementById('paymentProof');
                const file = fileInput.files[0];
                
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const base64Image = e.target.result;
                        
                        // Prepare data for Google Apps Script
                        const data = {
                            name: formData.get('name'),
                            email: formData.get('email'),
                            phone: formData.get('phone'),
                            school: formData.get('school'),
                            schoolLevel: formData.get('schoolLevel'),
                            isYmjMember: formData.get('isYmjMember'),
                            participation: formData.get('participation'),
                            reservationDate: formData.get('reservationDate'),
                            paymentProof: base64Image,
                            fileName: file.name
                        };
                        
                        // Send data to Google Apps Script
                        sendDataToGoogleSheet(data);
                    };
                    reader.readAsDataURL(file);
                } else {
                    loading.classList.remove('active');
                    showNotification('Harap unggah bukti pembayaran', 'error');
                }
            });
            
            function updateFeeDisplay(participation) {
                const feeDisplay = document.getElementById('feeDisplay');
                const feeAmount = document.getElementById('feeAmount');
                
                let fee = '';
                switch(participation) {
                    case 'passive_ymj':
                        fee = 'Gratis';
                        break;
                    case 'passive_non_ymj':
                        fee = 'IDR 50,000';
                        break;
                    case 'active_teacher_ymj':
                        fee = 'IDR 100,000';
                        break;
                    case 'active_student_ymj':
                        fee = 'IDR 500,000';
                        break;
                    case 'active_non_ymj':
                        fee = 'IDR 650,000';
                        break;
                }
                
                feeAmount.textContent = fee;
                feeDisplay.classList.add('active');
            }
            
            function showNotification(message, type) {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.className = 'notification ' + type;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 5000);
            }
            
            function sendDataToGoogleSheet(data) {
                // Google Apps Script URL
                // Replace with your deployed Apps Script URL
                const scriptURL = 'https://script.google.com/macros/s/AKfycby4wZOWFAJFqRQMyED48--IOtaiCG_1TQNPCbjgxBR9qDoa3RfTBKdygCzbaIFDlZQX/exec';
                
                fetch(scriptURL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                })
                .then(response => {
                    loading.classList.remove('active');
                    showNotification('Pendaftaran berhasil dikirim!', 'success');
                    form.reset();
                    document.getElementById('fileName').textContent = 'Tidak ada file yang dipilih';
                    document.getElementById('feeDisplay').classList.remove('active');
                    document.querySelectorAll('.radio-option').forEach(option => {
                        option.classList.remove('selected');
                    });
                })
                .catch(error => {
                    loading.classList.remove('active');
                    showNotification('Terjadi kesalahan saat mengirim data. Silakan coba lagi.', 'error');
                    console.error('Error:', error);
                });
            }
        });
    </script>
</body>
</html>
